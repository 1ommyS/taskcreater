<?phpnamespace App\Models;use Illuminate\Contracts\Auth\Authenticatable;use Illuminate\Database\Eloquent\Factories\HasFactory;use Illuminate\Database\Eloquent\Model;use Illuminate\Http\Request;use Illuminate\Support\Facades\Auth;use Illuminate\Support\Facades\DB;class Teacher extends Model{    use HasFactory;    public function createGroup (Request $request, Authenticatable $user)    {        return Group::create([                'title' => $request->name,                'step' => $request->step,                "information" => $request->information,                "contact_data" => $request->data_to_connect,                'teacher_id' => Auth::user()->id,            ]) && $this->createStudentsGroups($request, $user);    }    private function createStudentsGroups (Request $request, Authenticatable $user): void    {        $group_id = Group::select()            ->where('teacher_id', Auth::user()->id)            ->orderBy('id', 'desc')            ->limit(1)->first();        foreach ( $request->users as $user ) {            DB::table('student_groups')                ->insert([                    'student_id' => $user,                    'group_id' => $group_id->id,                ]);        }    }}